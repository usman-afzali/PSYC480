---
title: "EEG data acquistion, processing, and analysis"
author: "Charlie Drinkwater, Sheena Henderson, Cambria Doyle, and Usman Afzali"
date: 2023 05 11
format: html
---

::: callout-note
## Note
This is workd under progress and more information will be added.
:::

## Data Acquisition

EEG data can be collected using a variety of EEG headset tools and sofware. We are using a mobile, gel-based, 32 channel headset, [eego sports](https://www.ant-neuro.com/products/eego_sports) (by Ant Neuro).

More to come...

## Data processing and analysis

A large variety of software are available for EEG data processing and analysis. The widely used licensed programme is MATALB (that stands for matrix laboratory). It is primarily a statistical and machine learning programme and can be used for EEG data processing in two ways: via command line or via a freely available toolbox [EEGLab](https://eeglab.org). 

![](/figs/matlab.png)
The alternative free programme is Python -- whereas the relevant library is called [MNE](https://mne.tools/stable/index.html).

## EEGLab

Plugins

*  clean_rawdata
*   Firfilt
*   ICLabel
*   Dipfit
*   Microstates
*   PICARD

![](/figs/eeglab.png)

## How to actually do things

**How to create a study**

(Used to process multiple datasets at once)

1.    Load in datasets
2.    File -> Create Study -> Using all loaded datasets

**How to remove non-EEG channels**

1.    Edit -> Select Data -> Tick the box on the same line as channel range and then click on the “…” box to select the channels to remove (how do you know how to remove the channels? I wish I knew)

**How to compute the average reference for microstate analysis**

1.    Tools -> Basic FIR filter -> Set lower edge to 2 and upper edge to 20 and run

**How to run artifact correction (ASR)**

1.    Tools -> Reject data using clean rawdata and ASR
2.    Tick the “Remove channel drift” box and change the values to 0.75 and 1.25 (Why? IDK)
3.    Uncheck the “Remove channel if it is flat for more than …” box
4.    Change the min acceptable correlation with nearby chans from 0.8 to 0.7

Apparently we now average reference again, but this time we also interpolate removed channels

**How to run ICA with Picard**

1.    Tools -> Decompose data by ICA
2.    Change from “runica” to “picard”
3.    Uncheck the reorder components by variance box
4.    After that is finished, go back to Tools -> Classify components using ICLabel-> label components (leave as default) and run
5.    Then Tools -> Classify components using ICLabel-> Flag components as artifacts
6.    Then Tools -> remove components from data

**How to actually run microstate analysis (Windows edition)**

1.    Tools -> Microstate analysis toolbox -> select data for microstate analysis
2.    Change ERP – Concatenate datasets to Spontaneous GFP Peaks
3.    Tools -> Microstate analysis toolbox -> Segment into microstates
4.    Copy this (Shamelessly stolen from Usman’s slides)

![](/figs/ms-windows.png)

5.    Copy this

![](/figs/ms-win-2.png)

You should be able to plot them after doing this.

